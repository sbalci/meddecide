title: ROC Analysis
name: psychopdaroc
jus: '3.0'
stage: 0
compilerMode: tame
children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: Dependent Variable
        children:
          - type: VariablesListBox
            name: dependentVars
            isTarget: true
      - type: TargetLayoutBox
        label: Class Variable
        children:
          - type: VariablesListBox
            name: classVar
            maxItemCount: 1
            isTarget: true
          - type: LevelSelector
            name: positiveClass
            enable: (classVar)
      - type: TargetLayoutBox
        label: Group Variable
        children:
          - type: VariablesListBox
            name: subGroup
            maxItemCount: 1
            isTarget: true
  - type: CollapseBox
    label: Analysis Options
    margin: normal
    collapsed: false
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: method
            label: Method
          - type: CheckBox
            name: allObserved
            label: Show all observed cutpoints
          - type: TextBox
            name: specifyCutScore
            format: string
            enable: method:oc_manual
            label: Custom cut score
          - type: ComboBox
            name: direction
            label: Direction
  - type: CollapseBox
    label: Visualization
    margin: normal
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Basic Plot Settings
            children:
              - type: CheckBox
                name: plotROC
                label: Show ROC curves
              - type: CheckBox
                name: combinePlots
                label: Combine all curves in one plot
                enable: (plotROC)
              - type: CheckBox
                name: showOptimalPoint
                label: Show optimal cutpoint
                enable: (plotROC)
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Plot Style
            children:
              - type: CheckBox
                name: cleanPlot
                label: Publication-quality plot
              - type: ComboBox
                name: legendPosition
                label: Legend position
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Additional Information
            children: []
  - type: CollapseBox
    label: Additional Outputs
    margin: normal
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: sensSpecTable
            label: Show sensitivity/specificity tables
          - type: CheckBox
            name: showThresholdTable
            label: Show threshold table
          - type: TextBox
            name: maxThresholds
            format: number
            label: Maximum thresholds to display
            enable: (showThresholdTable)
          - type: CheckBox
            name: delongTest
            label: Perform DeLong's test for comparing AUCs
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Model Comparison
            children:
              - type: CheckBox
                name: calculateIDI
                label: Calculate IDI
              - type: CheckBox
                name: calculateNRI
                label: Calculate NRI
              - type: LevelSelector
                name: refVar
                label: Reference Variable
                enable: (calculateIDI || calculateNRI)
              - type: TextBox
                name: nriThresholds
                format: string
                label: NRI Thresholds
                enable: (calculateNRI)
              - type: TextBox
                name: idiNriBootRuns
                format: number
                label: Bootstrap Runs
                enable: (calculateIDI || calculateNRI)
  - type: CollapseBox
    label: Additional Plots
    margin: normal
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: showCriterionPlot
            label: Sensitivity/Specificity vs. Threshold
          - type: CheckBox
            name: showPrevalencePlot
            label: Predictive Values vs. Prevalence
          - type: CheckBox
            name: showDotPlot
            label: Test Values Distribution
  - type: CollapseBox
    label: Advanced
    margin: normal
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: metric
            label: Optimization metric
          - type: TextBox
            name: tol_metric
            format: number
            label: Metric tolerance
          - type: ComboBox
            name: break_ties
            label: Tie-breaking method
          - type: TextBox
            name: boot_runs
            format: number
            label: Bootstrap runs
  - type: CollapseBox
    label: pROC Features
    margin: normal
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: partialAUC
            label: Compute partial AUC
          - type: TextBox
            name: partialAUCfrom
            format: number
            label: Partial AUC from specificity
            enable: (partialAUC)
          - type: TextBox
            name: partialAUCto
            format: number
            label: Partial AUC to specificity
            enable: (partialAUC)
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: rocSmoothingMethod
            label: ROC curve smoothing method
          - type: CheckBox
            name: bootstrapCI
            label: Bootstrap confidence intervals
          - type: TextBox
            name: bootstrapReps
            format: number
            label: Bootstrap replications
            enable: (bootstrapCI)
  - type: LayoutBox
    margin: large
    children:
      - type: TextBox
        name: costRatioFP
        format: number
  - type: CollapseBox
    label: Multiple ROC Features
    margin: normal
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: compareClassifiers
            label: Compare classifiers' performance
          - type: CheckBox
            name: precisionRecallCurve
            label: Precision-Recall curve
