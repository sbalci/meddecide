<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Decision Tree Analysis with decisiongraph: A Comprehensive Guide • meddecide</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Decision Tree Analysis with decisiongraph: A Comprehensive Guide">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">meddecide</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.01</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/01-introduction.html">MedDecide 01: Introduction to Medical Decision Analysis for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/02-comprehensive-guide.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="../articles/03-agreement-advanced-features.html">Advanced Features in Interrater Agreement Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/03-agreement-analysis.html">Inter-Rater Agreement and Reliability Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/03-roc-analysis.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/04-decision-tree-guide.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/05-decision-tree-analysis.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="../articles/06-decision-tree-vs-markov.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="../articles/06-jamovi-workflow-examples.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/07-bayesian-decision-curve-analysis.html">Bayesian Decision Curve Analysis - Advanced Clinical Decision Making</a></li>
    <li><a class="dropdown-item" href="../articles/07-decision-trees.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="../articles/07-kappasizeci-comprehensive.html">Sample Size Calculations for Interobserver Agreement Studies</a></li>
    <li><a class="dropdown-item" href="../articles/08-decision-panel-clinical.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/08-kappasizefixedn-comprehensive.html">Complete Guide to kappasizefixedn: Fixed Sample Size Kappa Power Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/09-decision-panel-advanced.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/09-kappasizepower-comprehensive.html">Complete Guide to kappasizepower: Power Analysis for Inter-rater Agreement Studies</a></li>
    <li><a class="dropdown-item" href="../articles/10-decision-panel-optimization.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/11-precision-oncology.html">Precision Oncology: Biomarker-Guided Treatment Selection and Outcome Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/12-nogoldstandard.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="../articles/13-diagnostic-tests.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/14-diagnostic-style-quick-guide.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/15-diagnostic-style-clustering.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/16-use-in-r.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="../articles/17-introduction-legacy.html">meddecide: Introduction to Medical Decision Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/18-roc-analysis-legacy.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/19-decisionpanel-advanced-legacy.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/20-decisionpanel-clinical-legacy.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/21-decisionpanel-optimization-legacy.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/22-diagnostic-style-clustering-legacy.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/23-diagnostic-style-quick-guide-legacy.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/24-agreement-analysis-legacy.html">Inter-Rater Agreement and Reliability Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/25-diagnostic-tests-legacy.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/25-jamovi-workflow-examples-legacy.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/26-medical-decision-tree-guide-legacy.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/27-nogoldstandard-legacy.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="../articles/28-decision-tree-examples-legacy.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="../articles/29-decision-tree-vs-markov-analysis-legacy.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="../articles/30-decisiontree-analysis-vignette-legacy.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="../articles/31-precision-oncology-biomarkers-legacy.html">Precision Oncology: Biomarker-Guided Treatment Selection and Outcome Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/32-vignettes-legacy.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="../articles/33-use-in-r-legacy.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="../articles/34-cotest-analysis.html">Co-Testing Analysis: Combining Diagnostic Tests for Better Clinical Decision Making</a></li>
    <li><a class="dropdown-item" href="../articles/35-screening-calculator-comprehensive.html">Screening Test Calculator: A Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/36-sequential-testing-comprehensive.html">Sequential Testing Analysis: A Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/38-modelbuilder-comprehensive.html">Clinical Prediction Model Builder</a></li>
    <li><a class="dropdown-item" href="../articles/decisionpanel_threshold_calculator.html">Decision Panel Threshold Calculator (p_t)</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-01-oncodatasets-examples.html">meddecide: Medical Decision Analysis with Oncology Data</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-05-decisiongraph-comprehensive.html">Decision Tree Analysis with decisiongraph: A Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-09-digital-pathology-validation.html">Digital Pathology Validation: Agreement Analysis and Modality Comparison</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-15-multiclass-diagnostics-comprehensive.html">Multi-class Diagnostic Performance Evaluation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Decision Tree Analysis with decisiongraph: A Comprehensive Guide</h1>
            <h3 data-toc-skip class="subtitle">COVID-19 Treatment
Strategy Optimization Using Decision Trees, Markov Models, and
Cost-Effectiveness Analysis</h3>
                        <h4 data-toc-skip class="author">meddecide
Module</h4>
            
            <h4 data-toc-skip class="date">2025-10-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/vignettes/meddecide-05-decisiongraph-comprehensive.Rmd" class="external-link"><code>vignettes/meddecide-05-decisiongraph-comprehensive.Rmd</code></a></small>
      <div class="d-none name"><code>meddecide-05-decisiongraph-comprehensive.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>decisiongraph</code> function in the meddecide package
provides comprehensive decision tree analysis capabilities for medical
decision-making. This vignette demonstrates how to use all major
features of the function using a realistic COVID-19 treatment strategy
dataset.</p>
<div class="section level3">
<h3 id="key-features-covered">Key Features Covered<a class="anchor" aria-label="anchor" href="#key-features-covered"></a>
</h3>
<ul>
<li>
<strong>Simple Decision Trees</strong>: Basic treatment
comparisons</li>
<li>
<strong>Markov Models</strong>: Long-term health state
modeling<br>
</li>
<li>
<strong>Cost-Effectiveness Analysis</strong>: Economic evaluation
with ICER and NMB</li>
<li>
<strong>Sensitivity Analysis</strong>: One-way and probabilistic
sensitivity analysis</li>
<li>
<strong>Advanced Features</strong>: Value of information, budget
impact, correlation analysis</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="dataset-overview">Dataset Overview<a class="anchor" aria-label="anchor" href="#dataset-overview"></a>
</h2>
<p>We’ll use a comprehensive COVID-19 treatment dataset with 40 patients
comparing four treatment strategies across different patient
populations.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load required libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sbalci/ClinicoPathJamoviModule/" class="external-link">meddecide</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the test dataset</span></span>
<span><span class="va">covid_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data/decisiongraph_test_data.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display dataset structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">covid_data</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Preview the first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">covid_data</span>, <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summary of key variables</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Dataset contains:\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Patients:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">covid_data</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Treatment strategies:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">covid_data</span><span class="op">$</span><span class="va">treatment_strategy</span><span class="op">)</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Age groups:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">covid_data</span><span class="op">$</span><span class="va">age_group</span><span class="op">)</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Comorbidity types:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">covid_data</span><span class="op">$</span><span class="va">comorbidities</span><span class="op">)</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="simple-decision-tree-analysis">1. Simple Decision Tree Analysis<a class="anchor" aria-label="anchor" href="#simple-decision-tree-analysis"></a>
</h2>
<p>Let’s start with a basic decision tree comparing treatment strategies
based on recovery probability and treatment costs.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic decision tree analysis</span></span>
<span><span class="va">simple_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"simple"</span>,</span>
<span>  </span>
<span>  <span class="co"># Core variables</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  probabilities <span class="op">=</span> <span class="st">"recovery_prob"</span>, </span>
<span>  costs <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  utilities <span class="op">=</span> <span class="st">"recovery_utility"</span>,</span>
<span>  outcomes <span class="op">=</span> <span class="st">"clinical_outcome"</span>,</span>
<span>  </span>
<span>  <span class="co"># Visualization settings  </span></span>
<span>  layout <span class="op">=</span> <span class="st">"horizontal"</span>,</span>
<span>  nodeShapes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showProbabilities <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showCosts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showUtilities <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  </span>
<span>  <span class="co"># Output options</span></span>
<span>  calculateExpectedValues <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  summaryTable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  </span>
<span>  <span class="co"># Performance settings</span></span>
<span>  performanceMode <span class="op">=</span> <span class="st">"standard"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="understanding-simple-decision-trees">Understanding Simple Decision Trees<a class="anchor" aria-label="anchor" href="#understanding-simple-decision-trees"></a>
</h4>
<p>The simple decision tree shows:</p>
<ul>
<li>
<strong>Decision nodes</strong> (squares): Treatment strategy
choices</li>
<li>
<strong>Chance nodes</strong> (circles): Probability of
recovery<br>
</li>
<li>
<strong>Terminal nodes</strong> (triangles): Final outcomes with
costs and utilities</li>
<li>
<strong>Expected values</strong>: Calculated for each treatment
path</li>
</ul>
<p><strong>Key Insights:</strong> - Compare treatments based on expected
costs and utilities - Identify dominant strategies (higher utility,
lower cost) - Visualize decision trade-offs clearly</p>
</div>
</div>
<div class="section level2">
<h2 id="markov-model-analysis">2. Markov Model Analysis<a class="anchor" aria-label="anchor" href="#markov-model-analysis"></a>
</h2>
<p>For long-term analysis, we’ll model patient transitions through
health states over time.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Markov model for long-term analysis</span></span>
<span><span class="va">markov_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"markov"</span>,</span>
<span>  </span>
<span>  <span class="co"># Markov-specific variables</span></span>
<span>  healthStates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"healthy_state"</span>, <span class="st">"mild_state"</span>, <span class="st">"severe_state"</span>, </span>
<span>                   <span class="st">"critical_state"</span>, <span class="st">"dead_state"</span><span class="op">)</span>,</span>
<span>  transitionProbs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"transition_healthy_mild"</span>, <span class="st">"transition_mild_severe"</span>,</span>
<span>                     <span class="st">"transition_severe_critical"</span>, <span class="st">"transition_critical_dead"</span>,</span>
<span>                     <span class="st">"transition_mild_healthy"</span>, <span class="st">"transition_severe_mild"</span>,</span>
<span>                     <span class="st">"transition_critical_severe"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Time parameters</span></span>
<span>  cycleLength <span class="op">=</span> <span class="fl">1</span>,  <span class="co"># 1-year cycles</span></span>
<span>  timeHorizon <span class="op">=</span> <span class="fl">10</span>, <span class="co"># 10-year analysis</span></span>
<span>  discountRate <span class="op">=</span> <span class="fl">0.03</span>, <span class="co"># 3% annual discount rate</span></span>
<span>  </span>
<span>  <span class="co"># Markov options</span></span>
<span>  cycleCorrection <span class="op">=</span> <span class="cn">TRUE</span>,  <span class="co"># Half-cycle correction</span></span>
<span>  cohortTrace <span class="op">=</span> <span class="cn">TRUE</span>,      <span class="co"># Generate cohort trace</span></span>
<span>  cohortSize <span class="op">=</span> <span class="fl">1000</span>,       <span class="co"># Starting cohort size</span></span>
<span>  </span>
<span>  <span class="co"># Cost and utility variables</span></span>
<span>  costs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"outpatient_cost"</span>, <span class="st">"hospitalization_cost"</span>, <span class="st">"icu_cost"</span><span class="op">)</span>,</span>
<span>  utilities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"outpatient_utility"</span>, <span class="st">"hospitalization_utility"</span>, <span class="st">"icu_utility"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Output options</span></span>
<span>  summaryTable <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="understanding-markov-models">Understanding Markov Models<a class="anchor" aria-label="anchor" href="#understanding-markov-models"></a>
</h4>
<p>Markov models track patient populations through health states over
multiple cycles:</p>
<ul>
<li>
<strong>Health States</strong>: Healthy → Mild → Severe → Critical →
Dead</li>
<li>
<strong>Transition Probabilities</strong>: Likelihood of moving
between states each cycle</li>
<li>
<strong>Cohort Trace</strong>: Shows population distribution over
time</li>
<li>
<strong>Discounting</strong>: Adjusts future costs and benefits to
present value</li>
</ul>
<p><strong>Clinical Applications:</strong> - Chronic disease progression
modeling - Long-term treatment effectiveness - Lifetime
cost-effectiveness analysis</p>
</div>
</div>
<div class="section level2">
<h2 id="cost-effectiveness-analysis">3. Cost-Effectiveness Analysis<a class="anchor" aria-label="anchor" href="#cost-effectiveness-analysis"></a>
</h2>
<p>Now let’s perform a comprehensive economic evaluation comparing all
treatment strategies.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Comprehensive cost-effectiveness analysis</span></span>
<span><span class="va">cea_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"costeffectiveness"</span>,</span>
<span>  </span>
<span>  <span class="co"># Decision variables</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  costs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"treatment_cost"</span>, <span class="st">"hospitalization_cost"</span>, <span class="st">"icu_cost"</span><span class="op">)</span>,</span>
<span>  utilities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recovery_utility"</span>, <span class="st">"hospitalization_utility"</span>, <span class="st">"icu_utility"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Cost-effectiveness parameters</span></span>
<span>  calculateNMB <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  willingnessToPay <span class="op">=</span> <span class="fl">50000</span>,  <span class="co"># $50,000 per QALY</span></span>
<span>  </span>
<span>  <span class="co"># ICER analysis</span></span>
<span>  incrementalAnalysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dominanceAnalysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  icer_confidence_intervals <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># Set to TRUE for CI calculations</span></span>
<span>  </span>
<span>  <span class="co"># Output options</span></span>
<span>  summaryTable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  decisionComparison <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  </span>
<span>  <span class="co"># Visualization</span></span>
<span>  layout <span class="op">=</span> <span class="st">"horizontal"</span>,</span>
<span>  colorScheme <span class="op">=</span> <span class="st">"economic"</span>,</span>
<span>  plotComparison <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="understanding-cost-effectiveness-analysis">Understanding Cost-Effectiveness Analysis<a class="anchor" aria-label="anchor" href="#understanding-cost-effectiveness-analysis"></a>
</h4>
<p><strong>Key Metrics:</strong></p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Net Monetary Benefit (NMB)</strong>:
<code>NMB = (Utility × WTP) - Cost</code></p>
<ul>
<li>Higher NMB = more cost-effective</li>
<li>WTP = Willingness-to-pay threshold</li>
</ul>
</li>
<li>
<p><strong>Incremental Cost-Effectiveness Ratio (ICER)</strong>:</p>
<pre><code>ICER = (Cost₂ - Cost₁) / (Utility₂ - Utility₁)</code></pre>
<ul>
<li>Compare with WTP threshold</li>
<li>ICER &lt; WTP = cost-effective</li>
</ul>
</li>
<li>
<p><strong>Dominance Analysis</strong>:</p>
<ul>
<li>
<strong>Dominated</strong>: More expensive, less effective</li>
<li>
<strong>Dominant</strong>: Less expensive, more effective</li>
<li>
<strong>Extended dominance</strong>: Eliminated by linear
combination</li>
</ul>
</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="sensitivity-analysis">4. Sensitivity Analysis<a class="anchor" aria-label="anchor" href="#sensitivity-analysis"></a>
</h2>
<p>Let’s explore how robust our results are to parameter
uncertainty.</p>
<div class="section level3">
<h3 id="one-way-sensitivity-analysis">4.1 One-Way Sensitivity Analysis<a class="anchor" aria-label="anchor" href="#one-way-sensitivity-analysis"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># One-way sensitivity analysis with tornado diagram</span></span>
<span><span class="va">sensitivity_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"costeffectiveness"</span>,</span>
<span>  </span>
<span>  <span class="co"># Core analysis</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  costs <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  utilities <span class="op">=</span> <span class="st">"recovery_utility"</span>,</span>
<span>  </span>
<span>  <span class="co"># Sensitivity analysis</span></span>
<span>  sensitivityAnalysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tornado <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  </span>
<span>  <span class="co"># Cost-effectiveness</span></span>
<span>  calculateNMB <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  willingnessToPay <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  </span>
<span>  <span class="co"># Output options</span></span>
<span>  summaryTable <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="probabilistic-sensitivity-analysis-psa">4.2 Probabilistic Sensitivity Analysis (PSA)<a class="anchor" aria-label="anchor" href="#probabilistic-sensitivity-analysis-psa"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Probabilistic sensitivity analysis</span></span>
<span><span class="va">psa_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"costeffectiveness"</span>,</span>
<span>  </span>
<span>  <span class="co"># Core analysis</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>, </span>
<span>  costs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"treatment_cost"</span>, <span class="st">"hospitalization_cost"</span><span class="op">)</span>,</span>
<span>  utilities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recovery_utility"</span>, <span class="st">"hospitalization_utility"</span><span class="op">)</span>,</span>
<span>  probabilities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recovery_prob"</span>, <span class="st">"hospitalization_prob"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># PSA settings</span></span>
<span>  probabilisticAnalysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  numSimulations <span class="op">=</span> <span class="fl">1000</span>,  <span class="co"># Increase for more precision</span></span>
<span>  psa_distributions <span class="op">=</span> <span class="st">"normal"</span>,</span>
<span>  </span>
<span>  <span class="co"># Advanced PSA outputs</span></span>
<span>  psa_advanced_outputs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ceacThresholds <span class="op">=</span> <span class="st">"0,100000,5000"</span>,  <span class="co"># $0 to $100k, $5k steps</span></span>
<span>  </span>
<span>  <span class="co"># Parameter correlations</span></span>
<span>  correlatedParameters <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  correlationMatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"correlation_param1"</span>, <span class="st">"correlation_param2"</span>, <span class="st">"correlation_param3"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Cost-effectiveness</span></span>
<span>  calculateNMB <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  willingnessToPay <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  </span>
<span>  <span class="co"># Performance optimization</span></span>
<span>  performanceMode <span class="op">=</span> <span class="st">"standard"</span>,</span>
<span>  memoryOptimization <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallelProcessing <span class="op">=</span> <span class="cn">FALSE</span>  <span class="co"># Set TRUE if you have multiple cores</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="understanding-psa-results">Understanding PSA Results<a class="anchor" aria-label="anchor" href="#understanding-psa-results"></a>
</h4>
<p><strong>PSA generates several key outputs:</strong></p>
<ol style="list-style-type: decimal">
<li>
<strong>Cost-Effectiveness Scatter Plot</strong>: Shows uncertainty
cloud on cost-effectiveness plane</li>
<li>
<strong>Cost-Effectiveness Acceptability Curve (CEAC)</strong>:
Probability of cost-effectiveness across WTP thresholds</li>
<li>
<strong>Net Monetary Benefit Distributions</strong>: Uncertainty in
NMB estimates</li>
<li>
<strong>Confidence Intervals</strong>: For all key metrics</li>
</ol>
</div>
</div>
</div>
<div class="section level2">
<h2 id="value-of-information-analysis">5. Value of Information Analysis<a class="anchor" aria-label="anchor" href="#value-of-information-analysis"></a>
</h2>
<p>Determine the value of reducing uncertainty in key parameters.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Value of information analysis</span></span>
<span><span class="va">voi_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"costeffectiveness"</span>,</span>
<span>  </span>
<span>  <span class="co"># Core analysis</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  costs <span class="op">=</span> <span class="st">"treatment_cost"</span>, </span>
<span>  utilities <span class="op">=</span> <span class="st">"recovery_utility"</span>,</span>
<span>  probabilities <span class="op">=</span> <span class="st">"recovery_prob"</span>,</span>
<span>  </span>
<span>  <span class="co"># VOI analysis</span></span>
<span>  valueOfInformation <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  evpi_parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"evpi_param1"</span>, <span class="st">"evpi_param2"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Required: PSA for VOI</span></span>
<span>  probabilisticAnalysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  numSimulations <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  </span>
<span>  <span class="co"># Cost-effectiveness</span></span>
<span>  calculateNMB <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  willingnessToPay <span class="op">=</span> <span class="fl">50000</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="understanding-value-of-information">Understanding Value of Information<a class="anchor" aria-label="anchor" href="#understanding-value-of-information"></a>
</h4>
<p><strong>Expected Value of Perfect Information (EVPI):</strong> -
Maximum value of eliminating all parameter uncertainty - Upper bound on
research value - Calculated as:
<code>EVPI = E[max(NMB)] - max(E[NMB])</code></p>
<p><strong>Partial EVPI:</strong> - Value of perfect information for
specific parameters - Helps prioritize research areas - Identifies which
parameters drive decision uncertainty most</p>
</div>
</div>
<div class="section level2">
<h2 id="budget-impact-analysis">6. Budget Impact Analysis<a class="anchor" aria-label="anchor" href="#budget-impact-analysis"></a>
</h2>
<p>Estimate the financial impact of adopting new treatments at
population level.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Budget impact analysis</span></span>
<span><span class="va">budget_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"costeffectiveness"</span>,</span>
<span>  </span>
<span>  <span class="co"># Core analysis</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  costs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"treatment_cost"</span>, <span class="st">"hospitalization_cost"</span><span class="op">)</span>,</span>
<span>  utilities <span class="op">=</span> <span class="st">"recovery_utility"</span>,</span>
<span>  </span>
<span>  <span class="co"># Budget impact parameters</span></span>
<span>  budgetImpactAnalysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  targetPopulationSize <span class="op">=</span> <span class="fl">100000</span>,   <span class="co"># 100,000 eligible patients</span></span>
<span>  marketPenetration <span class="op">=</span> <span class="fl">0.3</span>,         <span class="co"># 30% uptake rate</span></span>
<span>  cohortSize <span class="op">=</span> <span class="fl">1000</span>,              <span class="co"># Analysis cohort size</span></span>
<span>  </span>
<span>  <span class="co"># Time horizon</span></span>
<span>  timeHorizon <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  </span>
<span>  <span class="co"># Cost-effectiveness  </span></span>
<span>  calculateNMB <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  willingnessToPay <span class="op">=</span> <span class="fl">50000</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="understanding-budget-impact">Understanding Budget Impact<a class="anchor" aria-label="anchor" href="#understanding-budget-impact"></a>
</h4>
<p><strong>Key Calculations:</strong> - <strong>Total eligible
population</strong>: Patients who could receive treatment -
<strong>Market penetration</strong>: Proportion actually receiving new
treatment - <strong>Budget impact</strong>:
<code>(New treatment cost - Current cost) × Penetration × Population</code></p>
<p><strong>Applications:</strong> - Healthcare system planning -
Formulary decisions<br>
- Resource allocation - Policy impact assessment</p>
</div>
</div>
<div class="section level2">
<h2 id="advanced-features-and-customization">7. Advanced Features and Customization<a class="anchor" aria-label="anchor" href="#advanced-features-and-customization"></a>
</h2>
<div class="section level3">
<h3 id="performance-optimization">7.1 Performance Optimization<a class="anchor" aria-label="anchor" href="#performance-optimization"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Large-scale analysis with performance optimization</span></span>
<span><span class="va">large_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"costeffectiveness"</span>,</span>
<span>  </span>
<span>  <span class="co"># Core analysis</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  costs <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  utilities <span class="op">=</span> <span class="st">"recovery_utility"</span>, </span>
<span>  </span>
<span>  <span class="co"># Large PSA</span></span>
<span>  probabilisticAnalysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  numSimulations <span class="op">=</span> <span class="fl">5000</span>,  <span class="co"># Large simulation</span></span>
<span>  </span>
<span>  <span class="co"># Performance settings</span></span>
<span>  performanceMode <span class="op">=</span> <span class="st">"fast"</span>,          <span class="co"># Prioritize speed</span></span>
<span>  memoryOptimization <span class="op">=</span> <span class="cn">TRUE</span>,         <span class="co"># Enable memory efficiency  </span></span>
<span>  parallelProcessing <span class="op">=</span> <span class="cn">TRUE</span>,         <span class="co"># Use multiple cores if available</span></span>
<span>  </span>
<span>  <span class="co"># Cost-effectiveness</span></span>
<span>  calculateNMB <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  willingnessToPay <span class="op">=</span> <span class="fl">50000</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom-visualization-settings">7.2 Custom Visualization Settings<a class="anchor" aria-label="anchor" href="#custom-visualization-settings"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Custom visualization and output</span></span>
<span><span class="va">custom_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"simple"</span>,</span>
<span>  </span>
<span>  <span class="co"># Core variables</span></span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  probabilities <span class="op">=</span> <span class="st">"recovery_prob"</span>,</span>
<span>  costs <span class="op">=</span> <span class="st">"treatment_cost"</span>, </span>
<span>  utilities <span class="op">=</span> <span class="st">"recovery_utility"</span>,</span>
<span>  </span>
<span>  <span class="co"># Custom visualization</span></span>
<span>  layout <span class="op">=</span> <span class="st">"radial"</span>,              <span class="co"># Radial tree layout</span></span>
<span>  colorScheme <span class="op">=</span> <span class="st">"medical"</span>,        <span class="co"># Medical color scheme</span></span>
<span>  nodeShapes <span class="op">=</span> <span class="cn">TRUE</span>,              <span class="co"># Different shapes per node type</span></span>
<span>  nodeLabels <span class="op">=</span> <span class="cn">TRUE</span>,              <span class="co"># Show node labels</span></span>
<span>  branchLabels <span class="op">=</span> <span class="cn">TRUE</span>,            <span class="co"># Show branch labels</span></span>
<span>  </span>
<span>  <span class="co"># Detailed outputs</span></span>
<span>  summaryTable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  decisionComparison <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  calculateExpectedValues <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="interpreting-results">8. Interpreting Results<a class="anchor" aria-label="anchor" href="#interpreting-results"></a>
</h2>
<div class="section level3">
<h3 id="key-decision-rules">Key Decision Rules<a class="anchor" aria-label="anchor" href="#key-decision-rules"></a>
</h3>
<div class="section level4">
<h4 id="for-simple-decision-trees">For Simple Decision Trees:<a class="anchor" aria-label="anchor" href="#for-simple-decision-trees"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong>Highest Expected Utility</strong>: Best clinical
outcomes</li>
<li>
<strong>Lowest Expected Cost</strong>: Most economical option<br>
</li>
<li>
<strong>Best Utility-Cost Ratio</strong>: Balance of effectiveness
and cost</li>
</ol>
</div>
<div class="section level4">
<h4 id="for-cost-effectiveness-analysis">For Cost-Effectiveness Analysis:<a class="anchor" aria-label="anchor" href="#for-cost-effectiveness-analysis"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong>Highest NMB</strong>: Most cost-effective at given WTP
threshold</li>
<li>
<strong>ICER &lt; WTP</strong>: Acceptable cost per QALY gained</li>
<li>
<strong>Non-dominated</strong>: Not eliminated by dominance
analysis</li>
</ol>
</div>
<div class="section level4">
<h4 id="for-markov-models">For Markov Models:<a class="anchor" aria-label="anchor" href="#for-markov-models"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong>Lifetime QALYs</strong>: Long-term quality-adjusted
survival</li>
<li>
<strong>Discounted Costs</strong>: Present value of all costs</li>
<li>
<strong>Cost per life-year</strong>: Traditional healthcare
metric</li>
</ol>
</div>
</div>
<div class="section level3">
<h3 id="clinical-decision-framework">Clinical Decision Framework<a class="anchor" aria-label="anchor" href="#clinical-decision-framework"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example decision framework</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"CLINICAL DECISION FRAMEWORK\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"==========================\n\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"1. EFFICACY (Primary consideration)\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - Recovery probability &gt; 80%: Highly effective\n"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - Recovery probability 60-80%: Moderately effective\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - Recovery probability &lt; 60%: Less effective\n\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"2. SAFETY (Secondary consideration)\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - ICU probability &lt; 5%: Low risk\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - ICU probability 5-15%: Moderate risk\n"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - ICU probability &gt; 15%: High risk\n\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"3. COST-EFFECTIVENESS (Tertiary consideration)\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - ICER &lt; $50,000/QALY: Cost-effective\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - ICER $50,000-$100,000/QALY: Possibly cost-effective\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - ICER &gt; $100,000/QALY: Not cost-effective\n\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"4. BUDGET IMPACT (Health system consideration)\n"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - Budget impact &lt; 1% of total budget: Minimal impact\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - Budget impact 1-5% of total budget: Moderate impact\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"   - Budget impact &gt; 5% of total budget: Major impact\n"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="best-practices-and-tips">9. Best Practices and Tips<a class="anchor" aria-label="anchor" href="#best-practices-and-tips"></a>
</h2>
<div class="section level3">
<h3 id="data-preparation">9.1 Data Preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ensure proper data formatting</span></span>
<span><span class="va">covid_data_clean</span> <span class="op">&lt;-</span> <span class="va">covid_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Convert factors if needed</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    treatment_strategy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">treatment_strategy</span><span class="op">)</span>,</span>
<span>    age_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">age_group</span><span class="op">)</span>,</span>
<span>    clinical_outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">clinical_outcome</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Check for missing values</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Validate probability ranges</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">recovery_prob</span> <span class="op">&gt;=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">recovery_prob</span> <span class="op">&lt;=</span> <span class="fl">1</span>,</span>
<span>    <span class="va">hospitalization_prob</span> <span class="op">&gt;=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">hospitalization_prob</span> <span class="op">&lt;=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Validate cost values  </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">treatment_cost</span> <span class="op">&gt;=</span> <span class="fl">0</span>,</span>
<span>    <span class="va">hospitalization_cost</span> <span class="op">&gt;=</span> <span class="fl">0</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Data validation complete. Cleaned dataset has"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">covid_data_clean</span><span class="op">)</span>, <span class="st">"rows."</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="analysis-tips">9.2 Analysis Tips<a class="anchor" aria-label="anchor" href="#analysis-tips"></a>
</h3>
<p><strong>Performance Recommendations:</strong></p>
<ol style="list-style-type: decimal">
<li>
<strong>Start Small</strong>: Begin with 1000 PSA simulations,
increase if needed</li>
<li>
<strong>Use Fast Mode</strong>: For exploration, use
<code>performanceMode = "fast"</code>
</li>
<li>
<strong>Enable Memory Optimization</strong>: Always use
<code>memoryOptimization = TRUE</code>
</li>
<li>
<strong>Parallel Processing</strong>: Enable for &gt;5000
simulations</li>
</ol>
<p><strong>Validation Checklist:</strong></p>
<ul>
<li>✅ Probabilities between 0 and 1</li>
<li>✅ Costs are non-negative<br>
</li>
<li>✅ Utilities typically between 0 and 1</li>
<li>✅ Transition probabilities sum to 1 (Markov models)</li>
<li>✅ Time horizon is reasonable for condition</li>
<li>✅ Discount rate is appropriate (typically 3-5%)</li>
</ul>
</div>
<div class="section level3">
<h3 id="common-issues-and-solutions">9.3 Common Issues and Solutions<a class="anchor" aria-label="anchor" href="#common-issues-and-solutions"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Common error: Invalid CEAC format</span></span>
<span><span class="co"># ❌ Wrong: ceacThresholds = "0 to 100000 by 5000"  </span></span>
<span><span class="co"># ✅ Correct: ceacThresholds = "0,100000,5000"</span></span>
<span></span>
<span><span class="co"># Common error: Too many simulations</span></span>
<span><span class="co"># ❌ Wrong: numSimulations = 50000 (may cause memory issues)</span></span>
<span><span class="co"># ✅ Correct: numSimulations = 1000 to 5000 </span></span>
<span></span>
<span><span class="co"># Common error: Missing required variables</span></span>
<span><span class="co"># ❌ Wrong: treeType = "markov" without healthStates</span></span>
<span><span class="co"># ✅ Correct: Always include required variables for each tree type</span></span>
<span></span>
<span><span class="co"># Performance optimization for large analyses</span></span>
<span><span class="co"># ✅ Use chunked processing for very large datasets</span></span>
<span><span class="va">large_data_analysis</span> <span class="op">&lt;-</span> <span class="fu">decisiongraph</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">covid_data</span>,</span>
<span>  treeType <span class="op">=</span> <span class="st">"costeffectiveness"</span>, </span>
<span>  decisions <span class="op">=</span> <span class="st">"treatment_strategy"</span>,</span>
<span>  costs <span class="op">=</span> <span class="st">"treatment_cost"</span>,</span>
<span>  utilities <span class="op">=</span> <span class="st">"recovery_utility"</span>,</span>
<span>  performanceMode <span class="op">=</span> <span class="st">"fast"</span>,      <span class="co"># Speed optimization</span></span>
<span>  memoryOptimization <span class="op">=</span> <span class="cn">TRUE</span>,     <span class="co"># Memory efficiency</span></span>
<span>  numSimulations <span class="op">=</span> <span class="fl">2000</span>         <span class="co"># Reasonable simulation count</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">10. Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>decisiongraph</code> function provides a comprehensive
toolkit for medical decision analysis:</p>
<p><strong>Key Strengths:</strong> - <strong>Flexibility</strong>:
Supports simple trees, Markov models, and cost-effectiveness analysis -
<strong>Comprehensive</strong>: Includes sensitivity analysis, value of
information, and budget impact - <strong>User-friendly</strong>:
Intuitive interface with helpful validation and error messages -
<strong>Performance</strong>: Optimized for large-scale analyses with
memory management</p>
<p><strong>Applications:</strong> - Clinical treatment guidelines -
Healthcare technology assessment<br>
- Formulary and coverage decisions - Research prioritization - Policy
analysis</p>
<p><strong>Next Steps:</strong> 1. Apply to your own clinical data 2.
Validate results with clinical experts 3. Conduct sensitivity analyses
to test robustness 4. Consider value of information to guide future
research 5. Estimate budget impact for implementation planning</p>
<hr>
<p><em>This vignette demonstrates the full capabilities of the
decisiongraph function. For questions or issues, please refer to the
meddecide documentation or submit issues to the GitHub
repository.</em></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Serdar Balci.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
